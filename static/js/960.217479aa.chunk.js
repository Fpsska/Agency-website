"use strict";(self.webpackChunkagency_website=self.webpackChunkagency_website||[]).push([[960],{960:function(e,a,r){r.r(a),r.d(a,{default:function(){return g}});var n=r(791),t=r(740),s=r(974),c=r(206),l=r(413),i=r(152);var o=r(184),u=function(){return(0,o.jsx)("div",{className:"loader"})},d=function(e){var a=e.id,r=e.category,c=e.text,l=e.image,i=e.alt_description,u=e.isActive,d=(0,t.T)();return(0,n.useEffect)((function(){var e=function(e){u&&"Delete"===e.code&&d((0,s.Cj)())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[u]),(0,o.jsxs)("div",{className:"gallery__card card ".concat(u?"active":""),onClick:function(){d((0,s.cb)({id:a,status:!u}))},children:[(0,o.jsx)("img",{className:"card__image",src:l,alt:i}),(0,o.jsxs)("div",{className:"card__information",children:[(0,o.jsx)("span",{className:"card__category",onClick:function(){d((0,s.pi)(r.toLocaleLowerCase())),d((0,s.RC)({category:r.toLocaleLowerCase(),status:!u})),d((0,s.uj)(r.toLocaleLowerCase()))},children:r}),(0,o.jsx)("blockquote",{className:"card__name",title:c,cite:"https://unsplash.com/",children:(0,o.jsx)("p",{children:c})})]})]})},f=function(){var e=(0,t.C)((function(e){return e.gallerySlice})),a=e.galleryCards,r=e.isDataLoading,s=e.error,c=e.filterBy,f=(0,n.useState)(!1),m=(0,i.Z)(f,2),g=m[0],h=m[1],_=(0,n.useState)(a),j=(0,i.Z)(_,2),x=j[0],y=j[1];return(0,n.useEffect)((function(){0===x.length?h(!0):h(!1)}),[x]),(0,n.useEffect)((function(){y(function(e,a){switch(a){case"all":return e;case a:return e.filter((function(e){return e.category.toLocaleLowerCase()===a}));default:return e}}(a,c))}),[c,a]),(0,o.jsxs)(o.Fragment,{children:[r?(0,o.jsx)("div",{className:"gallery__preloader",children:(0,o.jsx)(u,{})}):(0,o.jsx)("div",{className:"gallery__photos",children:x.map((function(e){return(0,o.jsx)(d,(0,l.Z)({},e),e.id)}))}),!r&&s&&(0,o.jsxs)("h3",{className:"error",children:["Error: ",s]}),!r&&!s&&g&&(0,o.jsx)("h3",{className:"gallery__message",children:"no matches"})]})},m=r(865),g=function(){var e=(0,t.C)((function(e){return e.gallerySlice})),a=(e.galleryNavTemplate,e.status),r=e.error,l=e.isDataLoading,i=(0,t.T)();return(0,n.useEffect)((function(){"loading"!==a&&setTimeout((function(){i((0,s.Vh)(!1))}),2e3)}),[a]),(0,o.jsx)("section",{className:"main-page",children:(0,o.jsx)("div",{className:"main-page__wrapper",children:(0,o.jsx)("div",{className:"gallery",children:(0,o.jsxs)("div",{className:"gallery__wrapper",children:[(0,o.jsx)(m.Z,{role:"gallery-nav"}),(0,o.jsx)(f,{}),(0,o.jsx)("button",{className:"gallery__button",disabled:l||!!r,onClick:function(){i((0,c.O)()),i((0,s.pi)("all")),i((0,s.RC)({category:"all",status:!0}))},children:"Load More"})]})})})})}}}]);
//# sourceMappingURL=960.217479aa.chunk.js.map